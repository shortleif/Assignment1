{% extends "base.html" %} {% block content %}
<div class="row justify-content-center">
  <div class="col-xl-6 col-lg-8 col-md-10">
    <h1 class="display-5 text-center mb-3">Pokémon Hangman</h1>

    <div class="card shadow-sm">
      <div class="card-header d-flex align-items-center py-2">
        <h5 class="mb-0">Select Difficulty</h5>
      </div>

      <div class="card-body px-3 pt-3 pb-2">
        <div class="text-center mb-4">
          <p>
            The game includes the original 151 Pokémon. Choose your difficulty
            to start playing!
          </p>

          {% if request.referrer and "change_difficulty" in request.referrer %}
          <div class="alert alert-info small mb-3">
            <strong>Note:</strong> Changing difficulty will reset your win/loss
            stats and progress counter. Your current progress is: Seen {{
            session.get('encountered_pokemon', [])|length }} / 151 Pokémon.
          </div>
          {% endif %} {% if game_active and current_progress %}
          <div class="alert alert-info">
            Current progress: {{ current_progress }}
            <br />
            <small>(Returning to the game will preserve your progress)</small>
          </div>
          {% endif %}
        </div>

        <div class="text-center">
          <div class="row g-4 justify-content-center">
            <div class="col-md-3">
              <div class="card difficulty-card h-100 border-success">
                <div class="card-header bg-success text-white">
                  <h5 class="mb-0">Easy</h5>
                </div>
                <div class="card-body d-flex flex-column">
                  <div class="flex-grow-1">
                    <p>10 attempts</p>
                    <p>Perfect for beginners</p>
                    <small class="text-muted"
                      ><i class="bi bi-info-circle me-1"></i>Full, unblurred
                      image visible.</small
                    >
                  </div>
                  <a
                    href="{{ url_for('hangman', difficulty='easy') }}"
                    class="btn btn-success btn-lg w-100 mt-auto"
                    >Start</a
                  >
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="card difficulty-card h-100 border-primary">
                <div class="card-header bg-primary text-white">
                  <h5 class="mb-0">Medium</h5>
                </div>
                <div class="card-body d-flex flex-column">
                  <div class="flex-grow-1">
                    <p>6 attempts</p>
                    <p>Balanced challenge</p>
                    <small class="text-muted"
                      ><i class="bi bi-info-circle me-1"></i>For beginners with
                      unblurred images.</small
                    >
                  </div>
                  <a
                    href="{{ url_for('hangman', difficulty='medium') }}"
                    class="btn btn-primary btn-lg w-100 mt-auto"
                    >Start</a
                  >
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="card difficulty-card h-100 border-danger">
                <div class="card-header bg-danger text-white">
                  <h5 class="mb-0">Hard</h5>
                </div>
                <div class="card-body d-flex flex-column">
                  <div class="flex-grow-1">
                    <p>3 attempts</p>
                    <p>For Pokémon fans</p>
                    <small class="text-muted"
                      ><i class="bi bi-info-circle me-1"></i>For dedicated fans
                      with completely blacked out images.</small
                    >
                  </div>
                  <a
                    href="{{ url_for('hangman', difficulty='hard') }}"
                    class="btn btn-danger btn-lg w-100 mt-auto"
                    >Start</a
                  >
                </div>
              </div>
            </div>

            <div class="col-md-3">
              <div class="card difficulty-card h-100 border-dark">
                <div class="card-header bg-dark text-white">
                  <h5 class="mb-0">Extreme</h5>
                </div>
                <div class="card-body d-flex flex-column">
                  <div class="flex-grow-1">
                    <p>1 attempt</p>
                    <p>True Pokémon masters only!</p>
                    <small class="text-muted"
                      ><i class="bi bi-info-circle me-1"
                        >No errors allowed and completely blacked out images.</i
                      ></small
                    >
                  </div>
                  <a
                    href="{{ url_for('hangman', difficulty='extreme') }}"
                    class="btn btn-dark btn-lg w-100 mt-auto"
                    >Start</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
